<h1 class="display-3">Grundrisse</h1>
<!-- <div *ngIf="currentFile" class="progress my-3">
            <div class="progress-bar progress-bar-info progress-bar-striped" role="progressbar" attr.aria-valuenow="{{ progress }}" aria-valuemin="0" aria-valuemax="100" [ngStyle]="{ width: progress + '%' }">
                {{ progress }}%
            </div>
        </div>
        <div *ngIf="message" class="alert alert-secondary" role="alert">{{ message }}</div>
        <div class="card mt-3">
            <div class="card-header">List of Files</div>
            <ul class="list-group list-group-flush" *ngFor="let file of fileInfos | async">
                <li class="list-group-item">
                    <a href="{{ file.url }}">{{ file.name }}</a>
                </li>
            </ul>
        </div> -->

<div *ngFor="let progressInfo of progressInfos" class="mb-2">
    <span>{{ progressInfo.fileName }}</span>
    <div class="progress">
        <div class="progress-bar progress-bar-info progress-bar-striped" role="progressbar" attr.aria-valuenow="{{ progressInfo.value }}" aria-valuemin="0" aria-valuemax="100" [ngStyle]="{ width: progressInfo.value + '%' }">
            {{ progressInfo.value }}%
        </div>
    </div>
</div>
<div class="row">
    <div class="col-8">
        <label class="btn btn-default p-0">
                <input type="file" multiple (change)="selectFiles($event)" />
              </label>
    </div>
    <div class="col-4">
        <button class="btn btn-success btn-sm mr-2" [disabled]="!selectedFiles" (click)="uploadFiles()">
                Upload
              </button>
        <button class="btn btn-success btn-sm" [disabled]="!selectedFiles" (click)="refreshList()">
                Refresh
              </button>
    </div>

</div>
<div>
    <img *ngFor='let preview of previews' [src]="preview" class="preview">
</div>
<div *ngIf="message.length" class="alert alert-secondary my-3" role="alert">
    <ul *ngFor="let msg of message; let i = index">
        <li>{{ msg }}</li>
    </ul>
</div>
<div class="card mt-3">
    <!-- <div class="card-header">List of Images</div>
    <ul class="list-group list-group-flush" *ngFor="let grundriss of nameofplan | async">
        <div>
            <label><strong>Notizfeld:</strong></label> {{ grundriss.pdf_name }}
        </div>
        <li class="list-group-item">
            <p><a href="{{ image.url }}">{{ grundriss.pdf_name }}</a></p>
            <img src="{{ image.url }}" alt="{{ image.name }}" height="80px" />
        </li>
    </ul> -->
</div>

<div class="card-header">Pdf's</div>
<li class="list-group-item" *ngFor="let grundriss of nameofplan; let i = index" [class.active]="i == currentIndexbuilding">
    {{ grundriss.pdf_name }} |
    <button class="btn btn-success btn-sm mr-2" (click)="openFile(grundriss, i)">
    open
  </button>
    <span></span>
    <button class="btn btn-success btn-sm" (click)="downloadFile(grundriss, i)">
    download
  </button>
</li>